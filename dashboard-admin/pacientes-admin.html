<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestão de Pacientes - Admin</title>
    
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <link rel="stylesheet" href="../assets/css/admin.css"> <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

    <div class="dashboard-container">
        <aside class="sidebar admin-theme">
            <div class="sidebar-header">
                <a href="index.html" style="text-decoration: none; color: inherit;">
                    <h2>VidaPlus <span class="highlight" style="color: #e74c3c;">Admin</span></h2>
                </a>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="index.html"><span class="material-icons">analytics</span> Dashboard</a></li>
                    <li><a href="profissionais.html"><span class="material-icons">medication_liquid</span> Profissionais</a></li>
                    <li><a href="pacientes-admin.html" class="active"><span class="material-icons">groups</span> Pacientes</a></li>
                    <li><a href="financeiro.html"><span class="material-icons">attach_money</span> Financeiro</a></li>
                    <li class="logout-item"><a href="../index.html"><span class="material-icons">logout</span> Sair</a></li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <header class="top-bar">
                <div class="page-title">
                    <h1>Base de Pacientes</h1>
                    <p>Cadastro centralizado e gestão de convênios.</p>
                </div>
                <button class="btn-primary" onclick="openPatientAdminModal()">
                    <span class="material-icons" style="font-size: 1.1rem; vertical-align: middle; margin-right: 5px;">person_add</span>
                    Cadastrar Paciente
                </button>
            </header>

            <div class="card" style="padding: 0; overflow: hidden;">
                
                <div class="filter-bar" style="padding: 20px; border-bottom: 1px solid #eee;">
                    <input type="text" class="search-input-admin" placeholder="Nome, CPF ou Matrícula...">
                    
                    <div style="display: flex; gap: 10px;">
                        <select style="padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option>Todos os Convênios</option>
                            <option>Particular</option>
                            <option>Unimed</option>
                            <option>Bradesco</option>
                            <option>SUS</option>
                        </select>
                        <select style="padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option>Status</option>
                            <option>Ativos</option>
                            <option>Bloqueados</option>
                            <option>Inadimplentes</option>
                        </select>
                    </div>
                </div>

                <table class="data-table" id="adminPatientTable">
                    <thead>
                        <tr>
                            <th>Paciente</th>
                            <th>CPF</th>
                            <th>Convênio</th>
                            <th>Cadastro</th>
                            <th>Situação</th>
                            <th style="text-align: right;">Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        
                        <tr>
                            <td>
                                <div class="profile-cell">
                                    <div class="admin-avatar" style="background: #e67e22;">JS</div>
                                    <div>
                                        <strong>João da Silva</strong>
                                        <small style="display: block; color: #888;">joao@email.com</small>
                                    </div>
                                </div>
                            </td>
                            <td>123.456.789-00</td>
                            <td>Convênio A</td>
                            <td>10/01/2024</td>
                            <td><span class="status-indicator active">Regular</span></td>
                            <td style="text-align: right;">
                                <button class="action-btn edit"><span class="material-icons">edit</span></button>
                                <button class="action-btn delete"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div class="profile-cell">
                                    <div class="admin-avatar" style="background: #9b59b6;">MO</div>
                                    <div>
                                        <strong>Maria Oliveira</strong>
                                        <small style="display: block; color: #888;">maria@email.com</small>
                                    </div>
                                </div>
                            </td>
                            <td>987.654.321-11</td>
                            <td>Particular</td>
                            <td>15/03/2024</td>
                            <td><span class="status-indicator active">Regular</span></td>
                            <td style="text-align: right;">
                                <button class="action-btn edit"><span class="material-icons">edit</span></button>
                                <button class="action-btn delete"><span class="material-icons">delete</span></button>
                            </td>
                        </tr>

                        <tr style="background-color: #fff5f5;">
                            <td>
                                <div class="profile-cell">
                                    <div class="admin-avatar" style="background: #7f8c8d;">RC</div>
                                    <div>
                                        <strong>Roberto Carlos</strong>
                                        <small style="display: block; color: #888;">roberto@email.com</small>
                                    </div>
                                </div>
                            </td>
                            <td>555.444.333-22</td>
                            <td>Unimed</td>
                            <td>20/05/2023</td>
                            <td><span class="status-indicator inactive">Pendência</span></td>
                            <td style="text-align: right;">
                                <button class="action-btn edit"><span class="material-icons">edit</span></button>
                                <button class="action-btn delete"><span class="material-icons">block</span></button>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </main>
    </div>

    <div id="patientAdminModal" class="modal-overlay hidden">
        <div class="modal-content" style="max-width: 700px;">
            <header class="modal-header" style="background: #2c3e50;">
                <h3>Ficha Cadastral</h3>
                <span class="close-modal" onclick="closePatientAdminModal()">&times;</span>
            </header>
            
            <form id="adminPatientForm">
                <div class="modal-body">
                    <h4 style="color: #2c3e50; border-bottom: 1px solid #eee; padding-bottom: 5px; margin-bottom: 15px;">Dados Pessoais</h4>
                    <div class="form-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div>
                            <label style="font-weight: bold; display: block; margin-bottom: 5px;">Nome Completo</label>
                            <input type="text" id="admName" required placeholder="Nome do Paciente">
                        </div>
                        <div>
                            <label style="font-weight: bold; display: block; margin-bottom: 5px;">CPF</label>
                            <input type="text" id="admCpf" required placeholder="000.000.000-00">
                        </div>
                    </div>
                    
                    <div class="form-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                        <div>
                            <label style="font-weight: bold; display: block; margin-bottom: 5px;">E-mail</label>
                            <input type="email" id="admEmail" placeholder="email@exemplo.com">
                        </div>
                        <div>
                            <label style="font-weight: bold; display: block; margin-bottom: 5px;">Telefone</label>
                            <input type="tel" id="admPhone" placeholder="(00) 00000-0000">
                        </div>
                    </div>

                    <h4 style="color: #2c3e50; border-bottom: 1px solid #eee; padding-bottom: 5px; margin-bottom: 15px;">Convênio e Plano</h4>
                    <div class="form-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <label style="font-weight: bold; display: block; margin-bottom: 5px;">Operadora</label>
                            <select id="admInsurance" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
                                <option value="Particular">Particular</option>
                                <option value="Unimed">Unimed</option>
                                <option value="Bradesco Saúde">Bradesco Saúde</option>
                                <option value="SulAmérica">SulAmérica</option>
                                <option value="SUS">SUS</option>
                            </select>
                        </div>
                        <div>
                            <label style="font-weight: bold; display: block; margin-bottom: 5px;">Nº Carteirinha</label>
                            <input type="text" id="admCardNumber" placeholder="Opcional">
                        </div>
                    </div>
                </div>

                <footer class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="closePatientAdminModal()">Cancelar</button>
                    <button type="submit" class="btn-primary">Salvar Ficha</button>
                </footer>
            </form>
        </div>
    </div>

    <script src="../assets/js/admin-pacientes.js"></script>
</body>
</html>